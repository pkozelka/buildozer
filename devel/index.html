<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 6, 2014 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Buildozer - Developer's corner</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
      <meta name="author" content="Petr Kozelka" />
    <meta name="Date-Revision-yyyymmdd" content="20140906" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                  <a href="index.html" id="bannerLeft">
                                                <img src="../Bulldozer.jpg" alt="Buildozer" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-09-06</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="http://www.apache.org/" class="externalLink" title="Apache">Apache</a>
            |
                        <a href="http://maven.apache.org/" class="externalLink" title="Maven 2">Maven 2</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Buildozer</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../features.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="../install.html" title="Installation">Installation</a>
            </li>
                  <li class="none">
                          <a href="../contrib.html" title="Contribute">Contribute</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="../docs/cmdline.html" title="Commandline">Commandline</a>
            </li>
                  <li class="none">
                          <a href="../docs/loglevels.html" title="Log levels">Log levels</a>
            </li>
                  <li class="none">
                          <a href="../docs/files.html" title="Files">Files</a>
            </li>
                  <li class="none">
                          <a href="../docs/registry.html" title="Module registry">Module registry</a>
            </li>
                  <li class="none">
                          <a href="../docs/build.html" title="Transitive build">Transitive build</a>
            </li>
                  <li class="none">
                          <a href="../docs/depends.html" title="Reverse dependencies">Reverse dependencies</a>
            </li>
                  <li class="none">
                          <a href="../docs/glossary.html" title="Glossary">Glossary</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Production versus Development mode<a name="Production_versus_Development_mode"></a></h2><p>When developing the tool, we often need to provide new versions of certain (or all) libraries and still be able to use the latest production version. This gives developer certain comfort, as long as he knows exactly what he is doing. Following usecases apply to development version:</p><ul><li>buildozer is invoked by a different command; we recommend &quot;dzer&quot; instead of &quot;zer&quot;</li><li>snapshots in local maven repository (usually $HOME/.m2/repository) are directly used, rather that $HOME/.buildbox/maven-repo</li><li>&quot;dzer&quot; can be a symlink to $SRC/bin/zer or $SRC/target/dist/bin/zer; $SRC or $SRC/target/dist respectively then defaults to BUILDBOX_HOME</li><li>directory &quot;etc&quot; is naturally sought under $SRC or $SRC/target/dist; it holds a separate (default ?) configuration which should not be a problem</li><li>directory &quot;var&quot; - the same, but it must be filled somehow with modules.txt</li><li>to build a new development version (the one invoked by &quot;dzer&quot;), only &quot;mvn clean install&quot; is needed</li><li>building a production version from snapshot means &quot;mvn clean install&quot; on another module, &quot;buildozer-production&quot;; it simply invokes installer plugin with minimum parameters</li></ul></div><div class="section"><h2>installer:prepare<a name="installer:prepare"></a></h2><ul><li>performs any required replacements in target/dist, before passing it to assembly</li><li>setups list of transitive dependencies and attaches to distro (repoid, repotype, repourl, groupid, artifactid, version, classifier, type)<ul><li>these dependencies form a superset of deps needed for all involved tools; inconsistent versions are not explicitly supported</li></ul></li></ul></div><div class="section"><h2>installer:i<a name="installer:i"></a></h2><ul><li>based on GAV, downloads whatever necessary and places it to $BUILDBOX_HOME/maven-repo in m2 layout</li><li>handles (re-)installation and registration with $BUILDBOX_HOME/var/installer</li></ul></div><div class="section"><h2>Desired file layout (TODO)<a name="Desired_file_layout_TODO"></a></h2><ul><li>$HOME/.buildbox/ == BUILDBOX_HOME<ul><li>bin/ - added to $PATH<ul><li>zer</li><li>ego</li><li>releasator</li></ul></li><li>etc/<ul><li>locations.properties</li><li>buildozer/<ul><li>buildozer.properties</li><li>buildozer.bashcomp</li></ul></li><li>releasator/<ul><li>releasator.xml</li></ul></li></ul></li><li>maven-repo/ or $HOME/.m2/repository or /usr/share/maven-repo == BUILDBOX_LIB</li><li>var/<ul><li>modules.txt # module registry; probably shared</li><li>installer/ # registry for installer<ul><li>buildozer.list</li><li>releasator.list</li></ul></li></ul></li></ul></li></ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2007-2014
                        <a href="http://buildbox.sourceforge.net">Buildbox</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
